import java.rmi.Naming;

public class WhisperServer {
	
	private Whisper whisper;
	
	public WhisperServer(String server) {
		try {
			// 1:1대화 객체 생성
			whisper = new WhisperImpl();
			Naming.rebind("rmi://" + server + ":1099/WhisperService", whisper);
			System.out.println("rmi서버 만들어짐");
		} catch(Exception e) {
			System.out.print("Trouble: " + e);
		}
	}
	
	public void sendWhisper(String from, String to, String message) {
		try {
			whisper.sendWhisper(from, to, message);
		} catch (Exception e) {
			e.printStackTrace();
		}
	}
	
}
